@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Design tokens ===== */
:root {
  --color-bg-base: #111124;
  --color-bg-canvas: #14142a;
  --color-panel: #1f1f3a;
  --color-panel-muted: #1a1a30;
  --color-panel-hover: #29294a;
  --color-border: #3a3a5c;
  --color-border-subtle: #2f2f4a;
  --color-accent: #6c63ff;
  --color-accent-hover: #7b73ff;
  --color-text-primary: #e8e8f0;
  --color-text-secondary: #a0a0b8;
  --color-text-muted: #6a6a80;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --duration-fast: 120ms;
  --duration-base: 180ms;
  --duration-slow: 260ms;
  --ease-standard: cubic-bezier(0.2, 0, 0, 1);
}

/* ===== Global resets ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body, #root {
  height: 100%;
  width: 100%;
  overflow: hidden;
  user-select: none;
  background: var(--color-bg-base);
  color: var(--color-text-primary);
  font-family: 'Segoe UI', Inter, system-ui, sans-serif;
}

/* ===== Scrollbar — slim dark style ===== */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #3a3a5c;
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: #4a4a6c;
}

/* ===== Range input (slider) styling ===== */
input[type='range'] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
  height: 20px;
}

input[type='range']::-webkit-slider-runnable-track {
  height: 4px;
  border-radius: 2px;
  background: #3a3a5c;
}

input[type='range']::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #6c63ff;
  margin-top: -5px;
  border: 2px solid #1a1a2e;
  transition: background 0.15s;
}

input[type='range']::-webkit-slider-thumb:hover {
  background: #7b73ff;
}

/* ===== Number input — no spinners ===== */
input[type='number']::-webkit-outer-spin-button,
input[type='number']::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type='number'] {
  -moz-appearance: textfield;
}

/* ===== Focus ring ===== */
*:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

@layer components {
  .ui-panel {
    @apply bg-panel border border-border rounded-md shadow-panel;
  }

  .ui-section-title {
    @apply text-xs font-semibold text-text-secondary uppercase tracking-wider flex items-center gap-2;
  }

  .ui-input {
    @apply bg-panel-muted border border-border rounded-sm text-text-primary text-xs px-2 py-1;
    transition: border-color var(--duration-fast) var(--ease-standard),
      box-shadow var(--duration-fast) var(--ease-standard),
      background-color var(--duration-fast) var(--ease-standard);
  }

  .ui-input:hover {
    @apply border-border-strong;
  }

  .ui-input:focus-visible {
    @apply border-accent;
    box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.2);
  }

  .ui-btn {
    @apply inline-flex items-center justify-center gap-1.5 rounded-sm border border-border px-3 py-1.5 text-xs text-text-secondary;
    transition: color var(--duration-fast) var(--ease-standard),
      background-color var(--duration-fast) var(--ease-standard),
      border-color var(--duration-fast) var(--ease-standard),
      transform var(--duration-fast) var(--ease-standard);
  }

  .ui-btn:hover {
    @apply text-text-primary bg-panel-hover border-border-strong;
  }

  .ui-btn:active {
    transform: translateY(1px);
  }

  .ui-btn-primary {
    @apply ui-btn bg-accent border-accent text-white shadow-accent;
  }

  .ui-btn-primary:hover {
    @apply bg-accent-hover border-accent-hover text-white;
  }

  .ui-btn-ghost {
    @apply border-transparent;
  }

  .ui-btn-danger {
    @apply border-danger/40 text-red-300;
  }

  .ui-btn-danger:hover {
    @apply bg-danger/10 border-danger/50 text-red-200;
  }

  .ui-badge {
    @apply inline-flex items-center rounded-sm border border-border px-2 py-0.5 text-[11px] text-text-secondary;
  }

  .ui-dialog-surface {
    @apply ui-panel bg-panel rounded-lg p-5;
  }
}

details[open] .collapse-chevron {
  transform: rotate(180deg);
}
